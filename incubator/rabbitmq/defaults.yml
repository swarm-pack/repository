---
service_name: rabbitmq
image:
  repository: rabbitmq
  tag: 3.7.13
  tag_pattern: ^3.7.13

config:
  vm_memory_high_watermark: "40%"
  erlang_cookie: "changeme"

rabbitmq_conf: |
  cluster_formation.peer_discovery_backend = rabbit_peer_discovery_dns
  cluster_formation.dns.hostname = rabbitmq

# Deploy allows all docker-compose options, except for labels
deploy:
  mode: replicated
  replicas: 1

swarm_sync:
  managed: true

# Accepts same options/format as docker-compose
logging:

networks:
  default:
